## MySQL参数优化

### MySQL的配置文件

1. mysql启动的时候, 会按照如下路径查找配置文件, 如果找到一个以上, 后面的会覆盖前面的配置项;

- /etc/my.cnf
- /etc/mysql/my.cnf
- $MYSQL_HOME/my.cnf
- [datadir]/my.cnf
- ~/.my.cnf

2. 如果启动的时候, 加上--default-file xxx/my.cnf, 那么相同的配置项以这里的为准;
3. mysql的配置文件中, 可以包含对mysqld的优化参数.这些参数可以通过

```shell
show variables like '%xxxxxxx_xxx%'
```

或

```mysql
show status like '%yyyy%'
```

来显示当前已经生效的配置值.



### 环境配置

| 硬件名称  | 配置 |
| --------- | ---- |
| 内存(MEM) | 32GB |



### 参数

| 参数名称         | 影响                       | 推荐值                                                       |
| ---------------- | -------------------------- | ------------------------------------------------------------ |
| sort_buffer_size | 查询排序允许分配的缓存大小 | 根据status中的全局Sort_merge_passes, 如果这个值非常大, 就应该增加sort_buffer_size的值的大小. |
| read_buffer_size |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |
|                  |                            |                                                              |



### innodb参数
| 参数名称 | 影响 | 推荐值 |
| -------- | ---- | ------ |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |
|          |      |        |

### MySQL异常：

| 异常及代码                             | 原因     | 解决方法                                    |
| -------------------------------------- | -------- | ------------------------------------------- |
| ERROR 1045 (28000): Unknown error 1045 | 密码错误 | 重新输入密码或者跳过权限表skip-grant-tables |
|                                        |          |                                             |
|                                        |          |                                             |
|                                        |          |                                             |

