##  MySQL修改密码（三种方法示例） 

在本教程中，您将学习如何使用以下几种方式：`UPDATE`，`SET PASSWORD`和`ALTER USER`语句来更改MySQL用户密码。

在更改MySQL用户帐户的密码之前，应该要先考虑以下几个问题：

-   要更改密码是哪个用户帐号？
-   什么应用程序正在使用要被更改密码的用户帐户？ 如果您更改密码而不更改正在使用用户帐户的应用程序的连接字符串，则应用程序将无法连接到数据库服务器。

清楚上面这些问题后，就可以开始更改用户帐户的密码了。

MySQL提供了各种可用于更改用户密码的语句，包括`UPDATE`，`SET PASSWORD`和`GRANT USAGE`语句。

## 方法1：使用UPDATE语句更改MySQL用户密码

更改密码的第一种方法是使用`UPDATE`语句来更新`mysql`数据库的`user`表。

执行`UPDATE`语句后，还需要执行`FLUSH PRIVILEGES`语句，从`mysql`数据库中的授权表中重新加载权限。

假设要更改从`localhost`主机连接的`dbadmin`用户的密码为：`newpasswd`，则可执行以下语句：

>   注意：*MySQL 5.7.6*版本以下，才能使用此方法来修改密码。从*MySQL 5.7.6*版本起，`user`表仅使用`authentication_string`列代替之前版本中的`password`列来存储密码。此外，它删除了`password`列。

```sql
USE mysql;

UPDATE user 
SET password = PASSWORD('newpasswd')
WHERE user = 'dbadmin' AND 
      host = 'localhost';

FLUSH PRIVILEGES;
SQL
```

因此，如果使用*MySQL 5.7.6+*版本以上，则必须在`UPDATE`语句中使用`authentication_string`列代替`password`列：

```sql
USE mysql;

UPDATE user 
SET authentication_string = PASSWORD('newpasswd')
WHERE user = 'dbadmin' AND 
      host = 'localhost';

FLUSH PRIVILEGES;
SQL
```

请注意，`PASSWORD()`函数将纯文本字符串密码形式计算加密成哈希值。

## 方法2：使用SET PASSWORD语句更改MySQL用户密码

更改密码的第二种方法是使用`SET PASSWORD`语句。

您可以使用`user@host`格式的用户帐户更新密码。如果需要更改其他帐户的密码，则当前登录的帐户至少需要`UPDATE`权限。

以下语句使用`SET PASSWORD`语句更改`dbadmin`用户帐户的密码。

```sql
SET PASSWORD FOR 'dbadmin'@'localhost' = PASSWORD('newpasswd2');
SQL
```

请注意，从*MySQL 5.7.6*版本开始，MySQL不推荐使用此语法，可能会在将来的版本中将其删除。作为一个代替的解决方案，它使用明文密码如下：

```sql
SET PASSWORD FOR 'dbadmin'@'localhost' = 'newpasswd2';
SQL
```

## 方法3：使用ALTER USER语句更改MySQL用户密码

更改用户帐户密码的第三种方法是将`ALTER USER`语句与`IDENTIFIED BY`子句一起使用。

以下`ALTER USER`语句将`dbadmin`用户的密码更改为`newpasswd3`：

```sql
ALTER USER dbadmin@localhost IDENTIFIED BY 'newpasswd3';
SQL
```

执行上面修改密码的语句后，可尝试验证修改结果，使用新密码登录 - 

```shell
C:\Users\Administrator>mysql -hlocalhost -udbadmin -p
Shell
```

如果要重置MySQL的`root`帐户的密码，则需要强制MySQL数据库服务器停止并重新启动，而无需使用授权表验证。

在本教程中，我们向您介绍了一些方便的语句，允许您更改MySQL数据库中用户帐户的密码。

参考：http://dev.mysql.com/doc/refman/5.7/en/set-password.html